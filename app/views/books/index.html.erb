<!--全ユーザーが投稿した書籍一覧画面（Books画面画面）-->

<div class='container px-5 px-sm-0'>
	<div class='row'>

    <!--画面左側-->
    <div class='col-md-3'>
			<!--ユーザー情報-->
	    <h2>User info</h2>
	    <table class='table'>
	      <tr>
					<!--ユーザー画像-->
	        <%= image_tag @user.get_profile_image(100,100) %>
	      </tr>
	      <tr>
	        <th>name</th>
	        <th><%= @user.name %></th>
	      </tr>
	      <tr>
	        <th>introduction</th>
	        <th><%= @user.introduction %></th>
	      </tr>
	    </table>
	    <div class='row'>
	    	<!--編集ボタン-->
	    	<%= link_to edit_user_path(@user) do %>
	    		<i class="fa-solid fa-user-gear"></i>
	    	<% end %>
	    </div>

			<!--新規書籍登録-->
	    <h2 class="mt-3">New book</h2>
	    <!-- url：どのURLへフォームの情報を送信するか（作成ボタンの押して飛ぶ先のリンクを記述）、method：HTTPメソッドを指定-->
	    <!-- ↑ rails routesコマンドでリンクを確認する-->
	    <%= form_with model: @book, url: books_path, method: :post do |f| %>
	    	<p>Title</p>
			 	<!--「autofocus: true」ページ読み込み後すぐにautofocus属性を記述している部分にカーソルが移動し入力状態になる-->
			 	<%= f.text_field :title, autofocus: true, id:"inputTitle" %>
				<p>Option</p>
			 	<%= f.text_area :body %>
				<!--作成ボタン-->
			 	<%= f.submit "Create Book" %>
	    <% end %>
	  </div>

    <!--画面右側-->
    <!--全ユーザーが投稿した書籍一覧-->
    <div class='col-md-8 offset-md-1'>
      <h2>Books</h2>
      <table class='table table-hover table-inverse'>
        <thead>
          <tr>
            <th></th>
            <th>Title</th>
            <th>Option</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <% @books.each do |book| %>   <!--「@books.each」Bookレコードの数だけ繰り返し処理を行う-->
          <tbody>
            <tr>
              <!--book.userは書籍と関連してるUserモデルのインスタンスを取得し、get_profile_image(100,100)はUserモデル内に定義されたメソッド-->
              <td><%= image_tag book.user.get_profile_image(100,100) %></td>
              <!--書籍の詳細ページ(books/show.html.erb)へ遷移-->
              <td><%= link_to book.title, book_path(book) %></td>
              <td><%= book.body %></td>
            </tr>
          </tbody>
        <% end %>
      </table>
    </div>

  </div>
</div>